# GST-CMDB

CMDB-система учёта ИТ-активов, ПО, лицензий и уведомлений.

## Требования
- PHP 8.0+
- MySQL 8.0+
- Обычный хостинг с поддержкой PHP, MySQL

## Быстрый старт
1. **Создайте пустую БД** с параметрами в config.php
2. **Импортируйте дамп db_schema.sql** (создаст все таблицы)
3. **Загрузите файлы на хостинг**
4. **Создайте первого администратора через /auth/register_admin.php**
5. **Вход через /auth/login.php**
6. Дальнейшая работа — через меню и дашборд.

---

## Массовый импорт из CSV (Excel)
- В каждом разделе (оборудование, ПО, лицензии) c правами admin/operator есть кнопка "Импорт из CSV".
- Доступен шаблон CSV с нужными заголовками в примере.
- После загрузки выводится отчёт — сколько добавлено записей, сколько строк пропущено/с ошибками.
- Поддержка стандартных csv-файлов (можно готовить их прямо из Excel или Google Sheets).

---

## Основные разделы интерфейса
- **/dashboard.php** — наглядная панель: количество оборудования, ПО, лицензий, истекающих/просроченных лицензий
- **/assets/** — справочник оборудования (поиск, добавление, импорт/экспорт, удаление, назначение ПО);
- **/software/** — справочник ПО (поиск, импорт/экспорт, удаление, список устройств);
- **/licenses/** — справочник лицензий (поиск, импорт/экспорт, удаление, цветные статусы);
- **/settings/index.php** — настройка email для уведомлений, периода предупреждения (доступ только admin);
- **/logs/index.php** — журнал всех действий пользователей (CRUD, вход, выход), доступ только admin;

---

## Безопасность
- **Пароли всегда в bcrypt**;
- **Формы защищены CSRF-токеном**;
- **Пользовательские данные экранируются (XSS-защита)**;
- **Удаление всегда с подтверждением**.

## Журналирование
- Все ключевые действия пользователя (создание, редактирование, удаление, вход/выход, импорт) пишутся в логи;
- Администратор смотрит логи через /logs/index.php в web-интерфейсе.

## Импорт CSV
- В каждом из разделов массовый импорт доступен по отдельной кнопке, шаблон — по ссылке "Пример файла";
- Заголовки csv строго регламентированы (описание — на форме импорта);
- Работает только для пользователей с ролью admin/operator;

---
**Вопросы и помощь:** обращайтесь к разработчику или читайте structure.txt для карты файлов и разделов.
